<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Hồ sơ - Journally</title>

  <!-- CSS -->
  <link rel="stylesheet" href="frontend/css/profile.css">
  <link rel="stylesheet" href="frontend/css/components.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
  <header>
    <div id="header-container"></div>
  </header>

  <main class="people-s-profile">
    <!-- Navigation -->
    <nav class="menu" aria-label="Main navigation">
      <a href="index.html">
        <button class="home-button" aria-label="Home">
          <img src="frontend/assets/image/home button.png" alt="Home">
        </button>
      </a>
      <a id="profile-link">
        <button class="profile" aria-label="Profile">
          <img class="ellipse-3" id="profile-avatar" src="frontend/assets/image/profile.png" alt="Profile">
        </button>
      </a>
      <a href="notification-center.html">
        <button class="notification-button" aria-label="Notifications">
          <img class="star" src="frontend/assets/image/notification.png" alt="Notification">
        </button>
      </a>
      <a href="create-post.html">
        <button class="create-post" aria-label="Create new post">
          <img class="plus-2" src="frontend/assets/image/create post.png" alt="Create">
        </button>
      </a>
    </nav>

    <!-- Profile Info -->
    <section class="profile-section">
      <div class="profile-photo" role="img" aria-label="User profile photo"></div>
      <div class="profile-info">
        <h1 class="text-wrapper-2">user_1</h1>
        <div class="profile-stats">
          <span class="text-wrapper-3">n bài viết</span>
          <span class="text-wrapper-4">n followers</span>
          <span class="text-wrapper-5">n đang theo dõi</span>
        </div>
        <button class="follow-button" type="button">
          <span class="text-wrapper-6">Theo dõi</span>
        </button>
      </div>
    </section>

    <!-- Posts -->
    <section class="posts-section">
      <div id="post-container">
        <div class="rectangle-2">
          <p class="text-wrapper">Chưa có bài viết</p>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Dữ liệu người dùng
    const myData = {
      id: 123,
      avatar: "/assets/image/user-avatar.png"
    };

    // Cập nhật avatar & link ngay khi DOM đã sẵn sàng
    const profileAvatar = document.getElementById("profile-avatar");
    const profileLink = document.getElementById("profile-link");

    if (profileAvatar) profileAvatar.src = myData?.avatar ? encodeURI(myData.avatar) : "/assets/image/default-avatar.png";
    if (profileLink) profileLink.href = `/html/profile.html?user=${myData?.id || ""}`;
  </script>  

  <!-- JS Modules -->
  <script type="module" src="frontend/javascript/components.js" defer></script>
  <script type="module" src="frontend/javascript/createComponents.js" defer></script>
  <script type="module" src="frontend/javascript/profile.js" defer></script>

  <!-- Bootstrap Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>
</body>
</html>
